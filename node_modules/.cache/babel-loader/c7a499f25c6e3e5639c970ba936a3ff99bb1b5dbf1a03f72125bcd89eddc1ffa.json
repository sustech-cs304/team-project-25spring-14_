{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport qs from \"qs\";\n// import { ElMessage } from \"element-plus\";\n// import \"element-plus/lib/theme-chalk/index.css\";\nexport default {\n  name: \"LoginView\",\n  data() {\n    return {\n      isLogin: true,\n      loginForm: {\n        username: \"\",\n        password: \"\"\n      },\n      registerForm: {\n        username: \"\",\n        password: \"\",\n        confirmPassword: \"\"\n      },\n      handleRegister: false,\n      handleLogin: false\n    };\n  },\n  methods: {\n    login() {\n      console.log(this.loginForm.username, this.loginForm.password);\n      axios.post(\"http://localhost:8080/user/login\", qs.stringify({\n        username: this.loginForm.username,\n        password: this.loginForm.password\n      })).then(res => {\n        if (res.data.code == 1) {\n          alert(res.data.message);\n          this.handleLogin = true;\n        } else if (res.data.code == 0) {\n          // alert(res.data.message);\n          this.handleLogin = false;\n          const token = res.data.data.token;\n          localStorage.setItem(\"jwtToken\", token);\n          this.$router.push({\n            path: \"/home\"\n          });\n        }\n      }).catch(err => {\n        console.error(\"Failed to login: \", err);\n      });\n    },\n    register() {\n      console.log(this.registerForm.username, this.registerForm.password, this.registerForm.confirmPassword);\n      //前端检查用户名密码规范\n      if (this.registerForm.username.length < 5) {\n        alert(\"用户名长度不能小于5位\");\n        this.handleRegister = true;\n        this.registerForm.password = \"\";\n        this.registerForm.confirmPassword = \"\";\n        return;\n      } else if (this.registerForm.username.length > 16) {\n        alert(\"用户名长度不能大于16位\");\n        this.handleRegister = true;\n        this.registerForm.password = \"\";\n        this.registerForm.confirmPassword = \"\";\n        return;\n      }\n      if (this.registerForm.password.length < 5) {\n        alert(\"密码长度不能小于5位\");\n        this.handleRegister = true;\n        this.registerForm.password = \"\";\n        this.registerForm.confirmPassword = \"\";\n        return;\n      } else if (this.registerForm.password.length > 16) {\n        alert(\"密码长度不能大于16位\");\n        this.handleRegister = true;\n        this.registerForm.password = \"\";\n        this.registerForm.confirmPassword = \"\";\n        return;\n      } else {\n        if (this.registerForm.password !== this.registerForm.confirmPassword) {\n          alert(\"两次输入的密码不一致\");\n          this.handleRegister = true;\n          this.registerForm.password = \"\";\n          this.registerForm.confirmPassword = \"\";\n          return;\n        }\n      }\n      //发送注册请求\n      axios.post(\"http://localhost:8080/user/register\", qs.stringify({\n        username: this.registerForm.username,\n        password: this.registerForm.password\n      })).then(res => {\n        if (res.data.code == 1) {\n          alert(res.data.message);\n          this.handleRegister = true;\n          this.registerForm.password = \"\";\n          this.registerForm.confirmPassword = \"\";\n        } else if (res.data.code == 0) {\n          alert(res.data.message);\n          this.handleRegister = false;\n          this.isLogin = true;\n          this.loginForm.username = this.registerForm.username.slice();\n          this.loginForm.password = this.registerForm.password.slice();\n          this.registerForm.username = \"\";\n          this.registerForm.password = \"\";\n          this.registerForm.confirmPassword = \"\";\n        }\n      }).catch(err => {\n        console.error(\"Failed to register: \", err);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","qs","name","data","isLogin","loginForm","username","password","registerForm","confirmPassword","handleRegister","handleLogin","methods","login","console","log","post","stringify","then","res","code","alert","message","token","localStorage","setItem","$router","push","path","catch","err","error","register","length","slice"],"sources":["/Users/bzh/SUSTBZH/SoftEng/github/team-project-25spring-14_/src/views/LoginView.vue"],"sourcesContent":["<template>\n  <div class=\"body\">\n    <div class=\"main\">\n      <div :class=\"['block', 'block_register', { 'is-txl': isLogin }]\">\n        <form @submit.prevent=\"register\">\n          <h1 class=\"title\">REGISTER</h1>\n          <div class=\"form_icons\">\n            <img\n              class=\"form_icon\"\n              src=\"@/assets/images/weixin2.svg\"\n              alt=\"WeChat\"\n            />\n            <img class=\"form_icon\" src=\"@/assets/images/qq1.svg\" alt=\"QQ\" />\n          </div>\n          <span class=\"text\">or use your email</span>\n          <input\n            v-model=\"registerForm.username\"\n            type=\"text\"\n            placeholder=\"Username\"\n          />\n          <input\n            v-model=\"registerForm.password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            :class=\"{ error: handleRegister }\"\n          />\n          <input\n            v-model=\"registerForm.confirmPassword\"\n            type=\"password\"\n            placeholder=\"Confirm Password\"\n            :class=\"{ error: handleRegister }\"\n          />\n          <p v-if=\"handleRegister\" class=\"error-text\">Please try again.</p>\n          <button type=\"submit\" class=\"form_button\">Register</button>\n        </form>\n      </div>\n      <div :class=\"['block', 'block_login', { 'is-txl is-z200': isLogin }]\">\n        <form @submit.prevent=\"login\">\n          <h1 class=\"title\">LOGIN</h1>\n          <div class=\"form_icons\">\n            <img\n              class=\"form_icon\"\n              src=\"@/assets/images/weixin2.svg\"\n              alt=\"WeChat\"\n            />\n            <img class=\"form_icon\" src=\"@/assets/images/qq1.svg\" alt=\"QQ\" />\n          </div>\n          <span class=\"text\">or use your email</span>\n          <input\n            v-model=\"loginForm.username\"\n            type=\"text\"\n            placeholder=\"Username\"\n          />\n          <input\n            v-model=\"loginForm.password\"\n            type=\"password\"\n            placeholder=\"Password\"\n          />\n          <button type=\"submit\" class=\"form_button\">Login</button>\n        </form>\n      </div>\n      <div :class=\"['switch', { login: isLogin }]\">\n        <div class=\"switch_circle\"></div>\n        <div class=\"switch_circle switch_circle_top\"></div>\n        <div class=\"switch_container\">\n          <h1>iAlbum</h1>\n          <h2>{{ isLogin ? \"Welcome Back!\" : \"Nice to have you\" }}</h2>\n          <p>\n            {{\n              isLogin\n                ? \"If you haven't registered yet, please click the button below to register\"\n                : \"If you have an account, please click the button below to login\"\n            }}\n          </p>\n          <div class=\"form_button\" @click=\"isLogin = !isLogin\">\n            {{ isLogin ? \"Sign Up\" : \"Sign In\" }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport qs from \"qs\";\n// import { ElMessage } from \"element-plus\";\n// import \"element-plus/lib/theme-chalk/index.css\";\nexport default {\n  name: \"LoginView\",\n  data() {\n    return {\n      isLogin: true,\n      loginForm: {\n        username: \"\",\n        password: \"\",\n      },\n      registerForm: {\n        username: \"\",\n        password: \"\",\n        confirmPassword: \"\",\n      },\n      handleRegister: false,\n      handleLogin: false,\n    };\n  },\n  methods: {\n    login() {\n      console.log(this.loginForm.username, this.loginForm.password);\n      axios\n        .post(\n          \"http://localhost:8080/user/login\",\n          qs.stringify({\n            username: this.loginForm.username,\n            password: this.loginForm.password,\n          })\n        )\n        .then((res) => {\n          if (res.data.code == 1) {\n            alert(res.data.message);\n            this.handleLogin = true;\n          } else if (res.data.code == 0) {\n            // alert(res.data.message);\n            this.handleLogin = false;\n            const token = res.data.data.token;\n            localStorage.setItem(\"jwtToken\", token);\n            this.$router.push({ path: \"/home\" });\n          }\n        })\n        .catch((err) => {\n          console.error(\"Failed to login: \", err);\n        });\n    },\n    register() {\n      console.log(\n        this.registerForm.username,\n        this.registerForm.password,\n        this.registerForm.confirmPassword\n      );\n      //前端检查用户名密码规范\n      if (this.registerForm.username.length < 5) {\n        alert(\"用户名长度不能小于5位\");\n        this.handleRegister = true;\n        this.registerForm.password = \"\";\n        this.registerForm.confirmPassword = \"\";\n        return;\n      } else if (this.registerForm.username.length > 16) {\n        alert(\"用户名长度不能大于16位\");\n        this.handleRegister = true;\n        this.registerForm.password = \"\";\n        this.registerForm.confirmPassword = \"\";\n        return;\n      }\n      if (this.registerForm.password.length < 5) {\n        alert(\"密码长度不能小于5位\");\n        this.handleRegister = true;\n        this.registerForm.password = \"\";\n        this.registerForm.confirmPassword = \"\";\n        return;\n      } else if (this.registerForm.password.length > 16) {\n        alert(\"密码长度不能大于16位\");\n        this.handleRegister = true;\n        this.registerForm.password = \"\";\n        this.registerForm.confirmPassword = \"\";\n        return;\n      } else {\n        if (this.registerForm.password !== this.registerForm.confirmPassword) {\n          alert(\"两次输入的密码不一致\");\n          this.handleRegister = true;\n          this.registerForm.password = \"\";\n          this.registerForm.confirmPassword = \"\";\n          return;\n        }\n      }\n      //发送注册请求\n      axios\n        .post(\n          \"http://localhost:8080/user/register\",\n          qs.stringify({\n            username: this.registerForm.username,\n            password: this.registerForm.password,\n          })\n        )\n        .then((res) => {\n          if (res.data.code == 1) {\n            alert(res.data.message);\n            this.handleRegister = true;\n            this.registerForm.password = \"\";\n            this.registerForm.confirmPassword = \"\";\n          } else if (res.data.code == 0) {\n            alert(res.data.message);\n            this.handleRegister = false;\n            this.isLogin = true;\n            this.loginForm.username = this.registerForm.username.slice();\n            this.loginForm.password = this.registerForm.password.slice();\n            this.registerForm.username = \"\";\n            this.registerForm.password = \"\";\n            this.registerForm.confirmPassword = \"\";\n          }\n        })\n        .catch((err) => {\n          console.error(\"Failed to register: \", err);\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.body {\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-family: \"Montserrat\", sans-serif;\n  font-size: 12px;\n  background-image: url(\"@/assets/images/background.jpg\");\n  background-size: cover;\n  background-position: center;\n  color: #a0a5a8;\n}\n.main {\n  position: relative;\n  width: 1000px;\n  min-width: 1000px;\n  min-height: 600px;\n  height: 600px;\n  padding: 25px;\n  background-color: #ecf0f3;\n  box-shadow: 10px 10px 10px #3b3b3f, -10px -10px 10px #f9f9f9;\n  border-radius: 12px;\n  overflow: hidden;\n\n  .block {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    top: 0;\n    width: 600px;\n    height: 100%;\n    padding: 25px;\n    background-color: #ecf0f3;\n    transition: all 1.25s;\n\n    form {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      flex-direction: column;\n      width: 100%;\n      height: 100%;\n      color: #a0a5a8;\n\n      .form_icon {\n        object-fit: contain;\n        width: 40px;\n        height: 40px;\n        margin: 0 5px;\n        opacity: 0.5;\n        transition: 0.15s;\n\n        &:hover {\n          opacity: 1;\n          transition: 0.15s;\n          cursor: pointer;\n        }\n      }\n\n      .title {\n        font-size: 34px;\n        font-weight: 700;\n        line-height: 3;\n        color: #181818;\n      }\n\n      .text {\n        margin-top: 30px;\n        margin-bottom: 12px;\n      }\n\n      input {\n        width: 350px;\n        height: 40px;\n        margin: 4px 0;\n        padding-left: 25px;\n        font-size: 13px;\n        letter-spacing: 0.15px;\n        border: none;\n        outline: none;\n        // font-family: 'Montserrat', sans-serif;\n        background-color: #ecf0f3;\n        transition: 0.25s ease;\n        border-radius: 8px;\n        box-shadow: inset 2px 2px 4px #d1d9e6, inset -2px -2px 4px #f9f9f9;\n\n        &::placeholder {\n          color: #a0a5a8;\n        }\n      }\n      input.error {\n        border-color: red;\n      }\n      .error-text {\n        color: red;\n        margin-top: 5px;\n        font-size: 12px;\n      }\n    }\n  }\n\n  .block_register {\n    z-index: 100;\n    left: calc(100% - 600px);\n  }\n\n  .block_login {\n    left: calc(100% - 600px);\n    z-index: 0;\n  }\n\n  .is-txl {\n    left: 0;\n    transition: 1.25s;\n    transform-origin: right;\n  }\n\n  .is-z200 {\n    z-index: 200;\n    transition: 1.25s;\n  }\n\n  .switch {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 400px;\n    padding: 50px;\n    z-index: 200;\n    transition: 1.25s;\n    background-color: #ecf0f3;\n    overflow: hidden;\n    box-shadow: 4px 4px 10px #d1d9e6, -4px -4px 10px #f9f9f9;\n    color: #a0a5a8;\n\n    .switch_circle {\n      position: absolute;\n      width: 500px;\n      height: 500px;\n      border-radius: 50%;\n      background-color: #ecf0f3;\n      box-shadow: inset 8px 8px 12px #d1d9e6, inset -8px -8px 12px #f9f9f9;\n      bottom: -60%;\n      left: -60%;\n      transition: 1.25s;\n    }\n\n    .switch_circle_top {\n      top: -30%;\n      left: 60%;\n      width: 300px;\n      height: 300px;\n    }\n    // .switch_container h1,\n    // .switch_container h2 {\n    //   transition: all 1s ease;\n    // }\n\n    .switch_container {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      flex-direction: column;\n      position: absolute;\n      width: 400px;\n      padding: 50px 55px;\n      transition: 1.25s;\n\n      h1 {\n        font-size: 48px;\n        font-weight: 700;\n        line-height: 3;\n        font-family: \"Catamaran\", cursive;\n        color: #181818;\n      }\n\n      h2 {\n        font-size: 34px;\n        font-weight: 700;\n        line-height: 3;\n        font-family: \"dancing script\", cursive;\n        color: #181818;\n      }\n\n      p {\n        font-size: 14px;\n        letter-spacing: 0.25px;\n        text-align: center;\n        line-height: 1.6;\n        font-family: \"Permenent marker\", cursive;\n      }\n    }\n  }\n\n  .login {\n    left: calc(100% - 400px);\n\n    .switch_circle {\n      left: 0;\n    }\n  }\n\n  .form_button {\n    width: 180px;\n    height: 50px;\n    border-radius: 25px;\n    margin-top: 50px;\n    text-align: center;\n    line-height: 50px;\n    font-size: 14px;\n    letter-spacing: 2px;\n    background-color: #4b70e2;\n    color: #f9f9f9;\n    cursor: pointer;\n    box-shadow: 8px 8px 16px #d1d9e6, -8px -8px 16px #f9f9f9;\n    border: none;\n    outline: none;\n    background: #4b70e2;\n\n    &:hover {\n      box-shadow: 2px 2px 3px 0 rgba(255, 255, 255, 50%),\n        -2px -2px 3px 0 rgba(116, 125, 136, 50%),\n        inset -2px -2px 3px 0 rgba(255, 255, 255, 20%),\n        inset 2px 2px 3px 0 rgba(0, 0, 0, 30%);\n    }\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}