{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, _cache[0] || (_cache[0] = [_createElementVNode(\"div\", {\n    id: \"tui-image-editor\"\n  }, null, -1 /* HOISTED */)]));\n}","map":{"version":3,"names":["_createElementBlock","_cache","_createElementVNode","id"],"sources":["/Users/bzh/SUSTBZH/SoftEng/github/team-project-25spring-14_/src/views/ImageEditor.vue"],"sourcesContent":["<template>\n  <div>\n    <div id=\"tui-image-editor\"></div>\n  </div>\n</template>\n\n<script>\nimport \"tui-image-editor/dist/tui-image-editor.css\";\n\nimport \"tui-color-picker/dist/tui-color-picker.css\";\n\nimport ImageEditor from \"tui-image-editor\";\n\nconst locale_zh = {\n  Load: \"添加图片\",\n  ZoomIn: \"放大\",\n\n  ZoomOut: \"缩小\",\n\n  Hand: \"手掌\",\n\n  History: \"历史\",\n\n  Resize: \"调整宽高\",\n\n  Crop: \"裁剪\",\n\n  DeleteAll: \"全部删除\",\n\n  Delete: \"删除\",\n\n  Undo: \"撤销\",\n\n  Redo: \"反撤销\",\n\n  Reset: \"重置\",\n\n  Flip: \"镜像\",\n\n  Rotate: \"旋转\",\n\n  Draw: \"画\",\n\n  Shape: \"形状标注\",\n\n  Icon: \"图标标注\",\n\n  Text: \"文字标注\",\n\n  Mask: \"遮罩\",\n\n  Filter: \"滤镜\",\n\n  Bold: \"加粗\",\n\n  Italic: \"斜体\",\n\n  Underline: \"下划线\",\n\n  Left: \"左对齐\",\n\n  Center: \"居中\",\n\n  Right: \"右对齐\",\n\n  Color: \"颜色\",\n\n  \"Text size\": \"字体大小\",\n\n  Custom: \"自定义\",\n\n  Square: \"正方形\",\n\n  Apply: \"应用\",\n\n  Cancel: \"取消\",\n\n  \"Flip X\": \"X 轴\",\n\n  \"Flip Y\": \"Y 轴\",\n\n  Range: \"区间\",\n\n  Stroke: \"描边\",\n\n  Fill: \"填充\",\n\n  Circle: \"圆\",\n\n  Triangle: \"三角\",\n\n  Rectangle: \"矩形\",\n\n  Free: \"曲线\",\n\n  Straight: \"直线\",\n\n  Arrow: \"箭头\",\n\n  \"Arrow-2\": \"箭头2\",\n\n  \"Arrow-3\": \"箭头3\",\n\n  \"Star-1\": \"星星1\",\n\n  \"Star-2\": \"星星2\",\n\n  Polygon: \"多边形\",\n\n  Location: \"定位\",\n\n  Heart: \"心形\",\n\n  Bubble: \"气泡\",\n\n  \"Custom icon\": \"自定义图标\",\n\n  \"Load Mask Image\": \"加载蒙层图片\",\n\n  Grayscale: \"灰度\",\n\n  Blur: \"模糊\",\n\n  Sharpen: \"锐化\",\n\n  Emboss: \"浮雕\",\n\n  \"Remove White\": \"除去白色\",\n\n  Distance: \"距离\",\n\n  Brightness: \"亮度\",\n\n  Noise: \"噪音\",\n\n  \"Color Filter\": \"彩色滤镜\",\n\n  Sepia: \"棕色\",\n\n  Sepia2: \"棕色2\",\n\n  Invert: \"负片\",\n\n  Pixelate: \"像素化\",\n\n  Threshold: \"阈值\",\n\n  Tint: \"色调\",\n\n  Multiply: \"正片叠底\",\n\n  Blend: \"混合色\",\n\n  Width: \"宽度\",\n\n  Height: \"高度\",\n\n  \"Lock Aspect Ratio\": \"锁定宽高比例\",\n};\n\nconst customTheme = {\n  \"common.bi.image\": \"\", // 左上角logo图片\n\n  \"common.bisize.width\": \"0px\",\n\n  \"common.bisize.height\": \"0px\",\n\n  \"common.backgroundImage\": \"none\",\n\n  \"common.backgroundColor\": \"#f3f4f6\",\n\n  \"common.border\": \"1px solid #333\",\n\n  // header\n\n  \"header.backgroundImage\": \"none\",\n\n  \"header.backgroundColor\": \"#f3f4f6\",\n\n  \"header.border\": \"0px\",\n\n  // load button\n\n  \"loadButton.backgroundColor\": \"#fff\",\n\n  \"loadButton.border\": \"1px solid #ddd\",\n\n  \"loadButton.color\": \"#222\",\n\n  \"loadButton.fontFamily\": \"NotoSans, sans-serif\",\n\n  \"loadButton.fontSize\": \"12px\",\n\n  // download button\n\n  \"downloadButton.backgroundColor\": \"#fdba3b\",\n\n  \"downloadButton.border\": \"1px solid #fdba3b\",\n\n  \"downloadButton.color\": \"#fff\",\n\n  \"downloadButton.fontFamily\": \"NotoSans, sans-serif\",\n\n  \"downloadButton.fontSize\": \"12px\",\n\n  \"downloadButton.display\": \"none\", // 隐藏\n\n  // icons default\n\n  \"menu.normalIcon.color\": \"#8a8a8a\",\n\n  \"menu.activeIcon.color\": \"#555555\",\n\n  \"menu.disabledIcon.color\": \"#ccc\",\n\n  \"menu.hoverIcon.color\": \"#e9e9e9\",\n\n  \"submenu.normalIcon.color\": \"#8a8a8a\",\n\n  \"submenu.activeIcon.color\": \"#e9e9e9\",\n\n  \"menu.iconSize.width\": \"24px\",\n\n  \"menu.iconSize.height\": \"24px\",\n\n  \"submenu.iconSize.width\": \"32px\",\n\n  \"submenu.iconSize.height\": \"32px\",\n\n  // submenu primary color\n\n  \"submenu.backgroundColor\": \"#1e1e1e\",\n\n  \"submenu.partition.color\": \"#858585\",\n\n  // submenu labels\n\n  \"submenu.normalLabel.color\": \"#858585\",\n\n  \"submenu.normalLabel.fontWeight\": \"lighter\",\n\n  \"submenu.activeLabel.color\": \"#fff\",\n\n  \"submenu.activeLabel.fontWeight\": \"lighter\",\n\n  // checkbox style\n\n  \"checkbox.border\": \"1px solid #ccc\",\n\n  \"checkbox.backgroundColor\": \"#fff\",\n\n  // rango style\n\n  \"range.pointer.color\": \"#fff\",\n\n  \"range.bar.color\": \"#666\",\n\n  \"range.subbar.color\": \"#d1d1d1\",\n\n  \"range.disabledPointer.color\": \"#414141\",\n\n  \"range.disabledBar.color\": \"#282828\",\n\n  \"range.disabledSubbar.color\": \"#414141\",\n\n  \"range.value.color\": \"#fff\",\n\n  \"range.value.fontWeight\": \"lighter\",\n\n  \"range.value.fontSize\": \"11px\",\n\n  \"range.value.border\": \"1px solid #353535\",\n\n  \"range.value.backgroundColor\": \"#151515\",\n\n  \"range.title.color\": \"#fff\",\n\n  \"range.title.fontWeight\": \"lighter\",\n\n  // colorpicker style\n\n  \"colorpicker.button.border\": \"1px solid #1e1e1e\",\n\n  \"colorpicker.title.color\": \"#fff\",\n};\n\nexport default {\n  data() {\n    return {\n      instance: null,\n    };\n  },\n\n  mounted() {\n    this.init();\n    this.$nextTick(() => {\n      document.querySelector(\"#tui-image-editor\").style.height =\n        window.innerHeight - 5 + \"px\";\n    });\n  },\n\n  methods: {\n    init() {\n      this.instance = new ImageEditor(\n        document.querySelector(\"#tui-image-editor\"),\n        {\n          includeUI: {\n            loadImage: {\n              path: \"\",\n\n              name: \"image\",\n            },\n\n            menu: [\n              \"resize\",\n              \"crop\",\n              \"rotate\",\n              \"draw\",\n              \"shape\",\n              \"icon\",\n              \"text\",\n              \"filter\",\n            ], // 底部菜单按钮列表 隐藏镜像flip和遮罩mask\n\n            initMenu: \"draw\", // 默认打开的菜单项\n\n            menuBarPosition: \"bottom\", // 菜单所在的位置\n\n            locale: locale_zh, // 本地化语言为中文\n\n            theme: customTheme, // 自定义样式\n          },\n\n          cssMaxWidth: 1000, // canvas 最大宽度\n\n          cssMaxHeight: 600, // canvas 最大高度\n        }\n      );\n\n      document.getElementsByClassName(\"tui-image-editor-main\")[0].style.top =\n        \"45px\"; // 调整图片显示位置\n\n      document.getElementsByClassName(\n        \"tie-btn-reset tui-image-editor-item help\"\n      )[0].style.display = \"none\"; // 隐藏顶部重置按钮\n    },\n\n    // 保存图片，并上传\n\n    save() {\n      const base64String = this.instance.toDataURL(); // base64 文件\n\n      const data = window.atob(base64String.split(\",\")[1]);\n\n      const ia = new Uint8Array(data.length);\n\n      for (let i = 0; i < data.length; i++) {\n        ia[i] = data.charCodeAt(i);\n      }\n\n      const blob = new Blob([ia], { type: \"image/png\" }); // blob 文件\n\n      const form = new FormData();\n\n      form.append(\"image\", blob);\n\n      // upload file\n    },\n  },\n};\n</script>\n\n<style scoped>\n.drawing-container {\n  height: 900px;\n\n  position: relative;\n\n  .save {\n    position: absolute;\n\n    right: 50px;\n\n    top: 15px;\n  }\n}\n</style>\n"],"mappings":";;uBACEA,mBAAA,CAEM,aAAAC,MAAA,QAAAA,MAAA,OADJC,mBAAA,CAAiC;IAA5BC,EAAE,EAAC;EAAkB,2B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}